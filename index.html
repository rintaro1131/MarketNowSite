<!doctype html>
<html lang="ja">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
    <meta name="theme-color" content="#111">
    <title>Market Now (Web)</title>
    <!--
    Basic OGP/Twitter Card
    <meta property="og:title" content="Market Now (Web)">
    <meta property="og:description" content="スマホでも視認性の高い4つのマーケット指標ビュー">
    <meta property="og:type" content="website">
    <meta property="og:image" content="hero.png">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Market Now (Web)">
    <meta name="twitter:description" content="スマホでも視認性の高い4つのマーケット指標ビュー">
    <meta name="twitter:image" content="hero.png">
    -->
    <link rel="stylesheet" href="styles.css">
  </head>
  <body>
    <header class="container header">
      <h1 class="title">Market Now (Web)</h1>
      <button id="refreshBtn" class="btn" aria-label="最新の相場データを取得" title="更新">
        <span class="btn-icon" aria-hidden="true"></span>
        <span class="btn-text">更新</span>
      </button>
    </header>

    <main class="container" id="main">
      <p class="note" id="noteFmp">※ FMPキー未設定時はS&amp;P 500はEOD（終値）で表示します</p>

      <section class="grid" aria-label="4つのマーケット指標">
        <!-- USD/JPY -->
        <article class="card" id="card-fx" aria-labelledby="fx-label">
          <div class="card-row">
            <div class="label" id="fx-label">USD/JPY</div>
            <span class="stale" id="fx-stale" hidden>stale</span>
          </div>
          <div class="value" id="fx-value" aria-live="polite" aria-atomic="true">—</div>
          <div class="sub" id="fx-sub">1 USD = — JPY</div>
        </article>

        <!-- S&P 500 -->
        <article class="card" id="card-spx" aria-labelledby="spx-label">
          <div class="card-row">
            <div class="label" id="spx-label">S&amp;P 500</div>
            <span class="stale" id="spx-stale" hidden>stale</span>
          </div>
          <div class="value" id="spx-value" aria-live="polite" aria-atomic="true">—</div>
          <div class="sub" id="spx-sub">EOD (Stooq)</div>
        </article>

        <!-- BTC -->
        <article class="card" id="card-btc" aria-labelledby="btc-label">
          <div class="card-row">
            <div class="label" id="btc-label">BTC</div>
            <span class="stale" id="btc-stale" hidden>stale</span>
          </div>
          <div class="value multi" aria-live="polite" aria-atomic="true">
            <div id="btc-usd-value">—</div>
            <div id="btc-jpy-value" class="muted-line">—</div>
          </div>
          <div class="sub" id="btc-sub">USD / JPY (Coinbase)</div>
        </article>

        <!-- ETH -->
        <article class="card" id="card-eth" aria-labelledby="eth-label">
          <div class="card-row">
            <div class="label" id="eth-label">ETH</div>
            <span class="stale" id="eth-stale" hidden>stale</span>
          </div>
          <div class="value multi" aria-live="polite" aria-atomic="true">
            <div id="eth-usd-value">—</div>
            <div id="eth-jpy-value" class="muted-line">—</div>
          </div>
          <div class="sub" id="eth-sub">USD / JPY (Coinbase)</div>
        </article>
      </section>

      <section class="settings" aria-label="自動更新設定">
        <label for="intervalSelect" class="label">自動更新間隔</label>
        <select id="intervalSelect" aria-label="自動更新間隔（秒）">
          <option value="30">30 秒</option>
          <option value="60" selected>60 秒</option>
          <option value="120">120 秒</option>
        </select>
      </section>
    </main>

    <footer class="container footer" id="footer">
      <div id="lastUpdated">最終更新：—</div>
      <div class="sources" id="sourcesFooter">
        Sources: 
        <a href="https://api.frankfurter.dev/" target="_blank" rel="noopener noreferrer">Frankfurter</a>,
        <a href="https://open.er-api.com/" target="_blank" rel="noopener noreferrer">open.er-api</a>,
        <a href="https://www.coinbase.com/" target="_blank" rel="noopener noreferrer">Coinbase</a>,
        <a href="https://stooq.com/" target="_blank" rel="noopener noreferrer">Stooq</a>,
        <a href="https://financialmodelingprep.com/" target="_blank" rel="noopener noreferrer">FMP</a><span id="fmp-asterisk" hidden>*</span>
      </div>
    </footer>

    <script src="app.js" defer></script>

    <!--
    簡易デプロイ手順
    - GitHub Pages:
      1) この3ファイルをリポジトリ直下へ配置
      2) Settings → Pages → Deploy from a branch → `main` / `/root` を選択
      3) 数分後に公開URLが表示されます
    - Vercel（静的）:
      1) 新規プロジェクトにこのリポジトリをImport
      2) Frameworkは「Other」、Build/Outputは空（デフォルト）
      3) そのままDeployすると `index.html` が配信されます
    -->
  </body>
  </html>
